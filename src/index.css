@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 海底主题颜色 */
.bg-ocean-light { background-color: #0891b2; }
.bg-ocean-mid { background-color: #0e7490; }
.bg-ocean-deep { background-color: #164e63; }

/* 海底渐变动画 - 更细腻的颗粒度 */
@keyframes ocean-gradient {
  0% { background-position: 0% 50%; }
  10% { background-position: 10% 60%; }
  20% { background-position: 20% 40%; }
  30% { background-position: 30% 70%; }
  40% { background-position: 40% 30%; }
  50% { background-position: 50% 80%; }
  60% { background-position: 60% 20%; }
  70% { background-position: 70% 90%; }
  80% { background-position: 80% 10%; }
  90% { background-position: 90% 50%; }
  100% { background-position: 100% 50%; }
}

.animate-ocean-gradient {
  background: linear-gradient(
    135deg,
    #0891b2 0%,
    #0e7490 15%,
    #0c5a6f 30%,
    #164e63 45%,
    #1a3c4a 60%,
    #0e7490 75%,
    #0891b2 90%,
    #0c5a6f 100%
  );
  background-size: 600% 600%;
  animation: ocean-gradient 20s ease infinite;
}

/* 海底光线效果 */
@keyframes light-beam-1 {
  0%, 100% {
    opacity: 0.2;
    transform: translateX(0) rotate(12deg);
  }
  50% {
    opacity: 0.4;
    transform: translateX(20px) rotate(12deg);
  }
}

@keyframes light-beam-2 {
  0%, 100% {
    opacity: 0.15;
    transform: translateX(0) rotate(-12deg);
  }
  50% {
    opacity: 0.35;
    transform: translateX(-15px) rotate(-12deg);
  }
}

@keyframes light-beam-3 {
  0%, 100% {
    opacity: 0.1;
    transform: translateX(0) rotate(6deg);
  }
  50% {
    opacity: 0.25;
    transform: translateX(10px) rotate(6deg);
  }
}

.animate-light-beam-1 {
  animation: light-beam-1 8s ease-in-out infinite;
}

.animate-light-beam-2 {
  animation: light-beam-2 10s ease-in-out infinite;
}

.animate-light-beam-3 {
  animation: light-beam-3 12s ease-in-out infinite;
}

/* 气泡动画 */
@keyframes bubble-0 {
  0% {
    transform: translateY(0) scale(0);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100vh) scale(1);
    opacity: 0;
  }
}

@keyframes bubble-1 {
  0% {
    transform: translateY(0) translateX(0) scale(0);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  50% {
    transform: translateY(-50vh) translateX(20px) scale(0.8);
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100vh) translateX(-10px) scale(1);
    opacity: 0;
  }
}

@keyframes bubble-2 {
  0% {
    transform: translateY(0) translateX(0) scale(0);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  50% {
    transform: translateY(-50vh) translateX(-15px) scale(0.6);
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100vh) translateX(15px) scale(1);
    opacity: 0;
  }
}

.animate-bubble-0 {
  animation: bubble-0 linear infinite;
}

.animate-bubble-1 {
  animation: bubble-1 linear infinite;
}

.animate-bubble-2 {
  animation: bubble-2 linear infinite;
}

/* 海草动画 - 更细腻的海底植物效果 */
@keyframes seaweed {
  0% { 
    transform: rotate(-8deg) scale(1);
    filter: brightness(0.9) blur(0px);
  }
  25% { 
    transform: rotate(3deg) scale(1.02);
    filter: brightness(1.1) blur(0.5px);
  }
  50% { 
    transform: rotate(8deg) scale(1.05);
    filter: brightness(1.2) blur(1px);
  }
  75% { 
    transform: rotate(-3deg) scale(1.03);
    filter: brightness(1.0) blur(0.3px);
  }
  100% { 
    transform: rotate(-8deg) scale(1);
    filter: brightness(0.9) blur(0px);
  }
}

.animate-seaweed {
  animation: seaweed 6s ease-in-out infinite;
  transform-origin: bottom center;
  will-change: transform;
}

/* 珊瑚动画 - 更自然的珊瑚摆动 */
@keyframes coral {
  0% { 
    transform: scale(1) rotate(-3deg);
    filter: brightness(0.95) saturate(1.2);
  }
  33% { 
    transform: scale(1.03) rotate(2deg);
    filter: brightness(1.05) saturate(1.4);
  }
  66% { 
    transform: scale(0.98) rotate(-1deg);
    filter: brightness(0.9) saturate(1.1);
  }
  100% { 
    transform: scale(1) rotate(-3deg);
    filter: brightness(0.95) saturate(1.2);
  }
}

.animate-coral {
  animation: coral 5s ease-in-out infinite;
  transform-origin: bottom center;
  will-change: transform;
}

/* 鱼游动动画 */
@keyframes fish-swimming-1 {
  0% { transform: translateX(-100px) translateY(0px); }
  20% { transform: translateX(calc(25vw)) translateY(-10px); }
  40% { transform: translateX(calc(50vw)) translateY(5px); }
  60% { transform: translateX(calc(75vw)) translateY(-5px); }
  80% { transform: translateX(calc(100vw + 50px)) translateY(10px); }
  100% { transform: translateX(calc(100vw + 100px)) translateY(0px); }
}

@keyframes fish-swimming-2 {
  0% { transform: translateX(100px) translateY(0px); }
  20% { transform: translateX(calc(-25vw)) translateY(8px); }
  40% { transform: translateX(calc(-50vw)) translateY(-8px); }
  60% { transform: translateX(calc(-75vw)) translateY(5px); }
  80% { transform: translateX(calc(-100vw - 50px)) translateY(-5px); }
  100% { transform: translateX(calc(-100vw - 100px)) translateY(0px); }
}

.animate-fish-swimming-1 {
  animation: fish-swimming-1 15s linear infinite;
}

.animate-fish-swimming-2 {
  animation: fish-swimming-2 18s linear infinite;
}

/* 淡入动画 */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 1s ease-out;
}

.animation-delay-1 {
  animation-delay: 1s;
  animation-fill-mode: both;
}

.animation-delay-2 {
  animation-delay: 2s;
  animation-fill-mode: both;
}

.animation-delay-300 {
  animation-delay: 0.3s;
  animation-fill-mode: both;
}

/* 限制 markdown 最大宽度（防止撑开） */
.prose {
  max-width: 100% !important;
}

/* 让普通文本自动换行 */
.prose p,
.prose li,
.prose span {
  word-break: break-word;
  overflow-wrap: anywhere;
}

/* 让 GFM 表格不会撑开容器 */
.prose table {
  table-layout: fixed;
  width: 100%;
}

.prose table td,
.prose table th {
  white-space: normal !important;
}

/* 代码块处理 */
.prose pre {
  max-width: 100%;
  overflow-x: auto;        /* 添加横向滚动，而不是撑开 */
  white-space: pre;        /* 保留良好的代码格式 */
}

/* code 内部太长的连续字符允许换行 */
.prose pre code {
  overflow-wrap: break-word;
  word-break: break-word;
}

/* inline code 也要支持换行，不然也会撑开 */
.prose code {
  white-space: pre-wrap !important;
}